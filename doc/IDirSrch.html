<!-- -*-HTML-*- -->
<!-- $Id: IDirSrch.html,v 1.7 2002/12/15 00:22:12 markus Exp $ -->

<html>
  <head>
    <title>General Reference: IDirectorySearch</title>
    <meta name="description" content="Documentation of IDirectorySearch-class">
    <meta name="keywords" content="Documentation, Docu, IDirectorySearch, class">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2001-09-25">
    <meta name="DC.Rights" content="Anticopyright (A) 2001, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align="center" border="0" cellspacing="10">
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Class IDirectorySearch</h1>
    <p>Derived from
      <i>none</i>
      <br>
      Derived by:
      <a href="DirSrch.html">DirectorySearch</a>
      <a href="RDirSrch.html">RemoteDirSearch</a></p>

    <p>#include &lt;IDirSrch.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>
    <p>Abstract baseclass providing an interface for classes to search in
      directory-structures.</p>

    <p><a name="Attributes"></a>The following attributes are supported for files:</p>

    <dl compact>
      <dt><b>FILE_NORMAL</b></dt>
      <dl>Retrives all normal files (e.g: no directories).</dl>
      <dt><b>FILE_READONLY</b></dt>
      <dl>Retrieves all files which the user can not write/change. This applies
        for files without w-flag in *X or with a special flag set for
	DOS/Windoze.</dl>
      <dt><b>FILE_DIRECTORY</b></dt>
      <dl>Retrieves only directories.</dl>
      <dt><b>FILE_HIDDEN</b></dt>
      <dl>Retrieves all hidden files. Under *X this are files starting with a dot (.);
        in Windows that are files with a special system attribute set.</dl>
    </dl>

    <hr noshade>
    <table border="0">
      <tr><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="IDirSrch.html#IDirectorySearch"><b>IDirectorySearch</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>static</tt> <tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">long</span></tt></tt> </td>
        <td><a href="IDirSrch.html#convertFromSysAttribs"><b>convertFromSysAttribs</b></a></td>
        <td><tt>(<tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">long</span></tt> <tt><span style="color:blue">attributes</span></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>static</tt> <tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">long</span></tt></tt> </td>
        <td><a href="IDirSrch.html#convertToSysAttribs"><b>convertToSysAttribs</b></a></td>
        <td><tt>(<tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">long</span></tt> <tt><span style="color:blue">attributes</span></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual const</tt> <a href="File.html"><b>File</b></a>*</tt></td>
        <td><a href="IDirSrch.html#find"><b>find</b></a></td>
        <td><tt>(<span style="color:navy">unsigned</span> <span style="color:purple">long</span> <span style="color:blue">attribs</span> = FILE_NORMAL) = 0</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">std::string</span></tt></tt> </td>
        <td><a href="IDirSrch.html#getDirectory"><b>getDirectory</b></a></td>
        <td><tt>() <tt>const</tt></tt> = 0;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">std::string</span></tt></tt> </td>
        <td><a href="IDirSrch.html#getFileSpec"><b>getFileSpec</b></a></td>
        <td><tt>() <tt>const</tt></tt> = 0;</td></tr>
      <tr valign="top"><td><tt><tt><span style="color:purple">std::string</span></tt></tt> </td>
        <td><a href="IDirSrch.html#getSearchValue"><b>getSearchValue</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">bool</span></tt></tt> </td>
        <td><a href="IDirSrch.html#isValid"><b>isValid</b></a></td>
        <td><tt>() <tt>const = 0</tt></tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual const</tt> <a href="File.html"><b>File</b></a>*</tt></td>
        <td><a href="IDirSrch.html#next"><b>next</b></a></td>
        <td><tt>() = 0</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">void</span></tt></tt> </td>
        <td><a href="IDirSrch.html#setSearchValue"><b>setSearchValue</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::string</span></tt>&amp; <tt><span style="color:blue">search</span></tt>) = 0</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="IDirSrch.html#~IDirectorySearch"><b>~IDirectorySearch</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr><td>&nbsp;</td></tr>
      <tr><td colspan="3"><h3>protected function member index</h3></td></tr>
      <tr valign="top"><td><tt><tt><span style="color:purple">void</span></tt></tt> </td>
        <td><a href="IDirSrch.html#clearEntry"><b>clearEntry</b></a></td>
        <td><tt>()</tt>;</td></tr>
    </table>
    <hr noshade>
    <h2>Member descriptions</h2>

    <h4>Management functions</h4>
    <pre><a name="IDirectorySearch"></a><b>IDirectorySearch</b> ()</pre>
    <dl>
      <dd><p>Defaultconstructor.</p></dd>
    </dl>
    <hr>
    <pre><a name="~IDirectorySearch"></a><b>~IDirectorySearch</b> () </pre>
    <dl>
      <dd><p>Destructor</p></dd>
    </dl>
    <hr>
    <pre><a name="setSearchValue"></a>void <b>setSearchValue</b> (const std::string&amp; search)</pre>
    <dl>
      <dd><p>Intented to set the name of the files to find. To be implemented by derived
        classes.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>search</code>: String containing the names of the files to search for<dd>
      </dl><dd>
    </dl>
    <hr>
    <pre><a name="getSearchValue"></a>std::string <b>getSearchValue</b> ()</pre>
    <dl>
      <dd><p>Intented to retrieve the name of the files to find. To be implemented by derived
        classes.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>std::string: Name (including path) of the files to find</dd></dl></dd>
    </dl>
    </dl>
    <hr>
    <pre><a name="getDirectory"></a>std::string <b>getDirectory</b> ()</pre>
    <dl>
      <dd><p>Intented to retrieve the directory (path) of the files to find. To be implemented by
        derived classes.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>std::string: Path of the files to find</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="getFileSpec"></a>std::string <b>getFileSpec</b> ()</pre>
    <dl>
      <dd><p>Intented to retrieve the name of the files to find (without path). To be
        implemented by derived classes.</P></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>std::string: Name (without path) of the files to find</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="isValid"></a>bool <b>isValid</b> () const</pre>
    <dl>
      <dd><p>Intented to check if the directory part of the (previously set) file is
        a valid directory. To be implemented by derived classes.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>bool: Flag if the object refers to a valid directory.</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="convertToSysAttribs"></a>unsigned long <b>convertToSysAttribs</b> (unsigned long attribs) </pre>
    <dl>
      <dd><p>Converts attributes according to IDirectorySearch (as defined at
          the top) into values used by the system.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>attribs</code>: Attributes to convert<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>unsigned long: Systemattributes
</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="convertFromSysAttribs"></a>unsigned long <b>convertFromSysAttribs</b> (unsigned long attribs) </pre>
    <dl>
      <dd><p>Converts the attributes as used by the system into attributes 
         used by IDirectorySearch (as defined at the top).</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>attribs</code>: Attributes to convert<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>unsigned long: Attributes according to IDirectorySearch
</dd></dl></dd>
    </dl>
    <hr>

    <pre><a name="clearEntry"></a>void <b>clearEntry</b> ()</pre>
    <dl>
      <dd><p>Clears the (temporarily) created File-entry; mainly used in case of an error.</p></dd>
    </dl>

    <h4>Search functions</h4>
    <pre><a name="find"></a>const <a href="File.html"><b>File</b></a>* <b>find</b> (unsigned long attribs = FILE_NORMAL)</pre>
    <dl>
      <dd><p>Intented to start a new (or next) search for the previously specified files
          which matches the passed attributes.</p>

        <p>Possible values for <code>attribs</code> are described
          <a href="IDirSrch.html#Attributes"><b>here</b></a>.</p>

        <p>To be implemented by derived classes.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>attribs</code>: Attributes the file must contain<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>const <a href="File.html"><b>File</b></a>*: Pointer to the first found file or NULL
</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="next"></a>const <a href="File.html"><b>File</b></a>* next () = 0</pre>
    <dl>
      <dd><p>Finds the next file matching the (previously specified) search-criteria.</p>

        <p>This call is only valid after calling the <a href="File.html#find">find</a> method.</p>

        <p>To be implemented by derived classes.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>const <a href="File.html"><b>File</b></a>*: Pointer to the next found file or NULL
</dd></dl></dd>
    </dl>
  </body>
</html>
