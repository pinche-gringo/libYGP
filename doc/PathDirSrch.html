<!-- $Id: PathDirSrch.html,v 1.7 2001/09/29 17:07:16 markus Exp $ -->

<html>
  <head>
    <title>General Reference: PathDirectorySearch</title>
    <meta name="description" content="Documentation of PathDirectorySearch-class">
    <meta name="keywords" content="Documentation, Docu, PathDirectorySearch, class">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2000-04-14">
    <meta name="DC.Rights" content="Anticopyright (A) 2000, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align=center border=0 cellspacing=10>
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Class PathDirectorySearch</h1>
    <p>Derived from
      <a href="DirSrch.html">DirectorySearch</a>
      <br>
      Derived by: <i>none</i></p>

    <p>#include &lt;PathDirSrch.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>
    <p>Class to search for files in directories listed in a path. This search
      can be restricted to files matching certain name-criterias or by
      attributes.</p>

    <p>The name-part of the files to search supports UNIX-like wildcards; that
      are the asterisk (*) for any number of any characters, the question-mark
      for any single character and a set of characters in brackets (([) and
      (])). This set can contain a list of characters (like [abcde]) or a
      region (like [a-e]). To invert this set use a leading caret (^) or a
      leading exclamation mark (!), like ([^a-e]).</p>

    <p>The found (and matching) files are retrieved by objects of type
      <a href="DirEntry.html"><b>dirEntry</b></a>.</p>

    <p><b>Note</b>: The class does <b>not</b> do any word expansion for the
      search-path (like expanding the tilde (~) to the home-directory)!</p>

    <hr noshade>
    <table border="0">
      <tr valign="top"><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="PathDirSrch.html#PathDirectorySearch"><b>PathDirectorySearch</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="PathDirSrch.html#PathDirectorySearch2"><b>PathDirectorySearch</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">path</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="PathDirSrch.html#PathDirectorySearch3"><b>PathDirectorySearch</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">path</font></tt>, <tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">search</font></tt>)</tt>;</td></tr>

      <tr valign="top"><td><tt>static <tt><font color="purple">void</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#checkPath"><b>checkPath</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">path</font></tt>) throw (<font color="navy">std::string</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#find"><b>find</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">path</font></tt>, <tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">search</font></tt>, <tt><font color="navy">dirEntry</font></tt>&amp; <tt><font color="blue">result</font></tt>, <tt><font color="navy">unsigned</font></tt> <tt><font color="purple">long</font></tt> <tt><font color="blue">attribs</font></tt> = FILE_NORMAL)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#find2"><b>find</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">search</font></tt>, <tt><font color="navy">dirEntry</font></tt>&amp; <tt><font color="blue">result</font></tt>, <tt><font color="navy">unsigned</font></tt> <tt><font color="purple">long</font></tt> <tt><font color="blue">attribs</font></tt> = FILE_NORMAL)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#find3"><b>find</b></a></td>
        <td><tt>(<tt><font color="navy">dirEntry</font></tt>&amp; <tt><font color="blue">result</font></tt>, <tt><font color="navy">unsigned</font></tt> <tt><font color="purple">long</font></tt> <tt><font color="blue">attribs</font></tt> = FILE_NORMAL)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#find4"><b>find</b></a></td>
        <td><tt>()</tt>;</td></tr>

      <tr valign="top"><td><tt><tt><font color="purple">void</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#setPath"><b>setPath</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">path</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="PathDirSrch.html#~PathDirectorySearch"><b>~PathDirectorySearch</b></a></td>

      <tr><td>&nbsp;</td></tr>
      <tr valign="top"><td colspan="3"><h3>protected function member index</h3></td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="PathDirSrch.html#checkIntegrity"><b>checkIntegrity</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>
    </table>

    <hr noshade>
    <h2>Member descriptions</h2>

    <h4>Management functions</h4>
    <pre><a name="PathDirectorySearch"></a>PathDirectorySearch ()</pre>
    <pre><a name="PathDirectorySearch2"></a>PathDirectorySearch (const std::string &amp; path)</pre>
    <dl>
      <dd>Constructor; creates an object with the path to search. The path can
        be a list of path-nodes, seperated with the character to split those
        nodes (double-point (:) in UNIX, the semi-colon in DOS/WINDOZE).</dd>
    </dl>
    <pre><a name="PathDirectorySearch3"></a>PathDirectorySearch (const std::string &amp; path, const std::string&amp; search)</pre>
    <dl>
      <dd><p>Constructor; creates an object with the files and the path to search.</p>
        <p>
          The parameter <i>path</i> can be a list of path-nodes, seperated
          with the character to split those nodes (double-point (:) in UNIX,
          the semi-colon in DOS/WINDOZE).</p>
        <p>The parameter <i>search</i> specifies which kind of files should be
          searched. It can also include path-information, in which case this
          part is added to the nodes of the parameter <i>path</i>.</p></dd>
    </dl>
    <pre><a name="~PathDirectorySearch"></a>~PathDirectorySearch ()</pre>

    <pre><a name="setPath"></a>void setPath (const std::string&amp; path)</pre>
    <dl>
      <dd>Sets the path to search for files. This path can be a list of
        path-nodes, seperated with the character to split those nodes
        (double-point (:) in UNIX, the semi-colon in DOS/WINDOZE).</dd>
    </dl>
    <pre><a name="checkPath"></a>static void checkPath (const std::string&amp; path) throw (std::string)</pre>
    <dl>
      <dd>Checks if the passed path is valid. If not, an (describing) exception
        is thrown.</dd>
    </dl>

    <h4>Find functions</h4>
    <pre><a name="find">int find</a> (const std::string&amp; path, const std::string&amp; search,<a href="DirEntry.html"><b>dirEntry</b></a>&amp; result,
          unsigned long attribs = FILE_NORMAL) throw (std::string)</pre>
    <dl>
      <dd><p>Searches for files specified by <i>search</i> in the passed
          <i>path</i>s; if at least one file is found, the result is placed into
          <i>result</i>.</p>
        <p><b>Note</b>: The parameter <i>search</i> can also contain
          path-information, in which case this is added to every node from
          the parameter <i>path</i>.</p>
        <p>The parameter <i>attribs</i> specify which kind of files to find.
          Possible values are FILE_NORMAL for "ordinary" files, FILE_READONLY
          for files which can not be changed (no w-flag in UNIX or read-only
          attribute set in DOS/WINDOZE),FILE_DIRECTORY searches for directories
          and FILE_HIDDEN for files not visible (files starting with a dot (.)
          in UNIX or with hidden- or system-flag set in DOS/WINDOZE).</p>
        <p>This call returns 0, if a file was found, errno otherwise.</p></dd>
    </dl>

    <pre><a name="find2">int find</a> (const std::string&amp; search, <a href="DirEntry.html"><b>dirEntry</b></a>&amp; result,
          unsigned long attribs = FILE_NORMAL) throw (std::string)</pre>
    <dl>
      <dd><p>Searches for files specified by <i>search</i> in the paths which must
          have been set before; if at least one file is found, the result is
          placed into <i>result</i>.</p>
        <p><b>Note</b>: The parameter <i>search</i> can also contain
          path-information, in which case this is added to every node from
          the parameter <i>path</i>.</p>
        <p>The parameter <i>attribs</i> specify which kind of files to find.
          Possible values are FILE_NORMAL for "ordinary" files, FILE_READONLY
          for files which can not be changed (no w-flag in UNIX or read-only
          attribute set in DOS/WINDOZE),FILE_DIRECTORY searches for directories
          and FILE_HIDDEN for files not visible (files starting with a dot (.)
          in UNIX or with hidden- or system-flag set in DOS/WINDOZE).</p>
        <p>This call returns 0, if a file was found, errno otherwise.</p></dd>
    </dl>

    <pre><a name="find3">virtual int find</a> (<a href="DirEntry.html"><b>dirEntry</b></a>&amp; result, unsigned long attribs = FILE_NORMAL)
            throw (std::string)</pre>
    <dl>
      <dd><p>Searches for first file matching the input specified by the
          constructor(s) or the set-methods; if at least one file is found, the
          result is placed into <i>result</i>.</p>
        <p>This call returns 0, if a file was found, errno otherwise.</p></dd>
    </dl>

    <pre><a name="find4"></a>virtual int find ()</pre>
    <dl>
      <dd>Returns the next matching file according to parameters specified in
        earlier find-calls. If a file was found 0 is returned, errno otherwise.</dd>
    </dl>

    <h4>Utility functions</h4>
    <pre><a name="checkIntegrity"></a>virtual int checkIntegrity () const</pre>
    <dl>
      <dd>Checks if this object is integer. If yes 0 is returned, else a number
        describing the error.</dd></dl>
  </body>
</html>
