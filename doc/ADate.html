<!-- $Id: ADate.html,v 1.3 2000/03/20 18:58:29 Markus Exp $ -->

<html>
  <head>
    <title>General Reference: ADate</title>
  </head>

  <body>
    <table align="center" border="0" cellspacing="10">
      <tr><td><a href="index.html">Class Index</a></td></tr>
    </table>

    <h1 align="center">Class ADate </h1>
    <p>Derived from: <a href="AttrVal.html">AttributValue</a></p>

    <p>Header-file: ADate.h</p>

    <hr noshade="noshade">
    <h2>Description</h2>
    <p>Class for date attributes. As every AttributValue is supports undefined
      values.</p>

    <hr noshade="noshade">
    <table border="0">
      <tr valign="top"><td colspan="3"><h3>public member index</h3></td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate">ADate</a></td><td>()</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate2">ADate</a></td>
	<td>(bool now)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate3">ADate</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate4">ADate</a></td>
	<td>(char Day, char Month, int Year)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate5">ADate</a></td>
	<td>(const char* pDate)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate6">ADate</a></td>
	<td>(const std::string&amp; date)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate7">ADate</a></td>
	<td>(const struct tm&amp; tm)</td></tr>
      <tr valign="top"><td></td><td><a href="ADate.html#ADate8">ADate</a></td>
	<td>(const time_t date)</td></tr>
      <tr valign="top"><td>virtual</td><td><a href="ADate.html#~ADate">~ADate</a></td><td>()</td></tr>

      <tr valign="top"><td><a href="ADate.html">ADate&amp;</a></td>
	<td><a href="ADate.html#operator=">operator=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#operator=2">operator=</a></td>
	<td>(const char* pDate)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#operator=3">operator=</a></td>
	<td>(const std::string&amp; date)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#operator=4">operator=</a></td>
	<td>(const struct tm&amp; tm)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#operator=5">operator=</a></td>
	<td>(const time_t date)</td></tr>
      <tr valign="top"><td>virtual void</td>
	<td><a href="ADate.html#readFromStream">readFromStream</a></td>
	<td>(istream&amp; in)</td></tr>

      <tr valign="top"><td>virtual void</td>
	<td><a href="ADate.html#define">define</a></td><td>()</td></tr>
      <tr valign="top"><td>void</td>
	<td><a href="ADate.html#setDay">setDay</a></td><td>(char Day)</td></tr>
      <tr valign="top"><td>void</td>
	<td><a href="ADate.html#setMonth">setMonth</a></td><td>(char Month)</td></tr>
      <tr valign="top"><td>void</td>
	<td><a href="ADate.html#setYear">setYear</a></td><td>(int Year)</td></tr>

      <tr valign="top"><td>static <a href="ADate.html">ADate</a></td>
	<td><a href="ADate.html#today">today</a></td><td>()</td></tr>

      <tr valign="top"><td>char</td><td><a href="ADate.html#today">getDay</a>
	</td><td>() const</td></tr>
      <tr valign="top"><td>char</td>
	<td><a href="ADate.html#getMonth">getMonth</a></td><td>() const</td></tr>
      <tr valign="top"><td>int</td>
	<td><a href="ADate.html#getYear">getYear</a></td><td>() const</td></tr>

      <tr valign="top"><td>virtual std::string</td>
	<td><a href="ADate.html#toString">toString</a></td><td>() const</td></tr>
      <tr valign="top"><td>virtual std::string</td>
	<td><a href="ADate.html#toString2">toString</a></td>
	<td>(const char* format) const</td></tr>

      <tr valign="top"><td>virtual struct tm</td>
	<td><a href="ADate.html#toStructTM">toStructTM</a></td><td>() const</td></tr>
      <tr valign="top"><td>time_t</td>
	<td><a href="ADate.html#toSysTime">toSysTime</a></td><td>() const</td></tr>

      <tr valign="top"><td><a href="ADate.html">ADate</a>&</td>
	<td><a href="ADate.html#operator+=">operator+=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; rhs)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&</td>
	<td><a href="ADate.html#operator-=">operator-=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; rhs)</td></tr>

      <tr valign="top"><td>friend <a href="ADate.html">ADate</a></td>
	<td><a href="ADate.html#operator+">operator+</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; lhs,
	  const <a href="ADate.html">ADate</a>&amp; rhs);</td></tr>
      <tr valign="top"><td>friend <a href="ADate.html">ADate</a></td>
	<td><a href="ADate.html#operator-">operator-</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; lhs,
	  const <a href="ADate.html">ADate</a>&amp; rhs);</td></tr>

      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#add">add</a></td>
	<td>(char Day, char Month = 0, int Year = 0)</td></tr>
      <tr valign="top"><td><a href="ADate.html">ADate</a>&amp;</td>
	<td><a href="ADate.html#sub">sub</a></td>
	<td>(char Day, char Month = 0, int Year = 0)</td></tr>

      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operator==">operator==</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operator!=">operator!=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operatorl">operator&lt;</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operatorg">operator&gt;</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operatorl=">operator&lt;=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>bool</td>
	<td><a href="ADate.html#operatorg=">operator&gt;=</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>
      <tr valign="top"><td>long</td>
	<td><a href="ADate.html#compare">compare</a></td>
	<td>(const <a href="ADate.html">ADate</a>&amp; other)</td></tr>

      <tr valign="top"><td>char</td>
	<td><a href="ADate.html#maxDayOf">maxDayOf</a></td><td>() const</td></tr>
      <tr valign="top"><td>static char</td>
	<td><a href="ADate.html#maxDayOf2">maxDayOf</a></td>
	<td>(char month, int year)</td></tr>
      <tr valign="top"><td>static bool</td>
	<td><a href="ADate.html#isLeapYear2">isLeapYear</a></td>
	<td>(int year)</td></tr>

      <tr valign="top"><td>virtual int</td>
	<td><a href="ADate.html#">checkIntegrity</a></td><td>() const</td></tr>

      <tr><td>&nbsp;</td></tr>
      <tr valign="top"><td colspan="3"><h3>protected member index</h3></td></tr>
      <tr valign="top"><td>void</td>
	<td><a href="ADate.html#incDay">incDay</a></td><td>()</td></tr>
      <tr valign="top"><td>void</td>
	<td><a href="ADate.html#decDay">decDay</a></td><td>()</td></tr>

      <tr valign="top"><td>virtual bool</td>
	<td><a href="ADate.html#minAdapt">minAdapt</a></td><td>()</td></tr>
      <tr valign="top"><td>virtual bool</td>
	<td><a href="ADate.html#maxAdapt">maxAdapt</a></td><td>()</td></tr>
    </table>

    <hr noshade="noshade">
    <h2>Member descriptions</h2>

    <h4>Constructors & assignment</h4>
    <p><a name="ADate"><i>ADate ()</i> -
	Defaultconstructor; the date is not defined</a></p>

    <p><a name="ADate3"><i>ADate (const ADate& other)</i> -
	Copyconstructor</a></p>

    <p><a name="ADate2"><i>ADate (bool now)</i> -
	Constructor; depending on the parameter the date is either set to the
        first of January, 1900 (now = false), or to the actual day (now = true).
      </a></p>

    <p><a name="ADate4"><i>ADate (char Day, char Month, int Year)</i>
	- Constructor; sets the passed date. The date is undefined, if the
	passed parameters represent no valid date.</a></p>

    <p><a name="ADate5"><i>ADate (const char* pDate)</i>
	- Constructor; sets the passed date, which must be represented as
        <i>day.month.year</i>. If the buffer does not represent a valid day,
	the date is set to undefined.</a></p>

    <p><a name="ADate6"><i>virtual ADate (std::string&amp; date)</i> -
	- Constructor; sets the passed date, which must be represented as
        <i>day.month.year</i>. If the string does not represent a valid day,
	the date is set to undefined.</a></p>

    <p><a name="ADate7"><i>ADate (const struct tm&amp; date)</i> - Constructor;
	assigns the values from the passed struct tm to the date.</a></p>

    <p><a name="ADate8"><i>ADate (const time_t date)</i> - Constructor;
	sets the date to the value represented by the parameter.</a></p>

    <p><a name="~ADate"><i>virtual ~ADate ()</i> - Destructor</a></p>

    <p><a name="operator="><i>ADate&amp; operator= (const ADate&amp; other)</i>
	- Assignment-operator</a></p>

    <p><a name="operator=2"><i>ADate&amp; operator= (const char* pDate)</i>
	- Assignment-operator from an const char-pointer. The date must be
	passed as <i>day.month.year</i>. If the buffer does not represent a
	valid day, the date is set to undefined.</a></p>

    <p><a name="operator=3"><i>ADate&amp; operator= (const std::string&amp; date)</i>
	- Assignment-operator from a const string. The date must be
	passed as <i>day.month.year</i>. If the string does not represent a
	valid day, the date is set to undefined.</a></p>

    <p><a name="operator=4"><i>ADate&amp; operator= (const struct tm&amp; date)</i>
	- Assignment-operator; assigns the values from the passed struct tm.</a></p>

    <p><a name="operator=5"><i>ADate&amp; operator= (const time_t date)</i>
	- Assignment-operator; sets the date to the value represented by the
	parameter.</a></p>

    <p><a name="define"><i>void define ()</i> - Sets the date to the 1st of
	January, 1900.</a></p>

    <p><a name="setDay"><i>void setDay (char Day)</i> - Sets the day to the 
	passed value. If the date is not valid, it is set to undefined.</a></p>

    <p><a name="setMonth"><i>void setMonth (char Month)</i> - Sets the month to
	the passed value. If the date is not valid, it is set to undefined.</a></p>

    <p><a name="setYear"><i>void setYear (char Year)</i> - Sets the year to
	the passed value.</a></p>

    <h4>In- &amp; output, conversion</h4>
    <p><a name="readFromStream"><i>virtual void readFromStream (istream& in)</i>
	- Reads data from a stream.</a></p>

    <p><a name="toString"><i>virtual std::string toString () const</i> -
	Converts the date into a string, in the format specified by the current
	locale.</a></p>

    <p><a name="toString2"><i>virtual std::string toString (const char* format)
	  const</i> - Converts the date into a string, in the specified format.
      The parameter format can be any value accepted by the <i>strftime</i>
      library-routine.</a></p>

    <p><a name="toStructTM"><i>virtual struct tm toStructTM () const</i> -
	Converts the date to a struct tm.</a></p>

    <p><a name="toSysTime"><i>time_t toSysTime () const</i> - Converts
	the date to a system-timestructure.</a></p>

    <h4>Query</h4>
    <p><a name="getDay"><i>char getDay () const</i> - Queries the actual day.</a></p>

    <p><a name="getMonth"><i>char getMonth () const</i> - Queries the actual month.</a></p>

    <p><a name="getYear"><i>int getYear () const</i> - Queries the actual year.</a></p>

    <p><a name="today"><i>static ADate today ()</i> - Returns a date-object
	representing the current day.</a></p>

    <h4>Calculation</h4>
    <p><a name="operator+="><i>ADate&amp; operator+= (const ADate&amp; rhs)</i>
	- Adds another date-value to the date-object. An undefined date is
	treated as "0.0.0"; if both objects are undefined, the result is
	undefined. Overflows (of day or month) are corrected.</a></p>

    <p><a name="operator-="><i>ADate&amp; operator-= (const ADate&amp; rhs)</i>
	- Substracts another date-value from the date-object. An undefined date
	is treated as "0.0.0"; the result is undefined if both objects are
	undefined. Underflows (of day or month) are corrected.</a></p>

    <p><a name="operator+"><i>ADate&amp; operator+ (const ADate&amp; lhs, 
	  const ADate&amp; rhs)</i> - Adds two date-values and returns the
	result. An undefined date is treated as "0.0.0"; the result is 
	undefined if both objects are undefined. Overflows (of day or month)
	are corrected.</a></p>

    <p><a name="operator-"><i>ADate&amp; operator- (const ADate&amp; lhs, 
	  const ADate&amp; rhs)</i> - Substracts two date-values and returns
	the result. An undefined date is treated as "0.0.0"; the result is
	undefined if both objects are undefined. Overflows (of day or month)
	are corrected.</a></p>

    <p><a name="add"><i>ADate&amp; add (char Day, char Month = 0, int Year = 0)</i>
	- If this is not undefined, the passed values are added (with attention
	to overflows). The result is returned.</a></p>

    <p><a name="sub"><i>ADate&amp; sub (char Day, char Month = 0, int Year = 0)</i>
	- If this is not undefined, the passed values are substracted (with
	attention to underflows). The result is returned.</a></p>

    <h4>Comparison</h4>
    <p><a name="operator=="><i>bool operator== (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if they are equal (either
	the same day or both undefined).</a></p>

    <p><a name="operator!="><i>bool operator!= (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if they are not equal
	(different days and not both undefined).</a></p>

    <p><a name="operatorl"><i>bool operator&lt; (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if this is "older" (further
	in the past) than other (e.g. "yesterday" &lt; "today" == true).</a></p>

    <p><a name="operatorg"><i>bool operator&gt; (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if this is "younger" (later
	on a time-line) than other (e.g. "tomorrow" &gt; "today" == true).</a></p>

    <p><a name="operatorl="><i>bool operator&lt;= (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if this is "older" (further
	in the past) than other or equal to it (e.g. "yesterday" &lt; "today"
	== true; two undefined values are also considered as equal).</a></p>

    <p><a name="operatorg="><i>bool operator&gt; (const ADate&amp; other)</i> -
	Compares two date-objects and returns true, if this is "younger" (later
	on a time-line) than other or equal to it (e.g. "tomorrow" &gt; "today"
	== true; two undefined values are also considered as equal).</a></p>

    <p><a name="compare"><i>long compare (const ADate&amp; other)</i> -
	Returns the (approximated) difference in days between two dates. If
	both dates are undefined, those difference is "0", if only this is
	undefined the result is MINLONG and if other is undefined MAXLONG is
	returned (-&gt; undefined dates are considered as (incredible)
	old).</a></p>

    <h4>Utility-functions</h4>
    <p><a name="maxDayOf"><i>char maxDayOf () const</i> - Returns the maximal
	day the month/year-combination of the current object could have.</a></p>

    <p><a name="maxDayOf2"><i>static char maxDayOf (char month, int year)</i> -
	Returns the maximal day the specified month could have.</a></p>

    <p><a name="isLeapYear"><i>bool isLeapYear () const</i> - Returns true, if
	the current object is a leap-year.</a></p>

    <p><a name="isLeapYear2"><i>static bool isLeapYear (int year)</i> - Returns
	true, if the specified year is a leap-year.</a></p>

    <p><a name="incDay"><i>void incDay ()</i> - Increments the day of the
	current object with regard of overflows.</a></p>

    <p><a name="decDay"><i>void decDay ()</i> - Decrements the day of the
	current object with regard of underflows.</a></p>

    <p><a name="minAdapt"><i>virtual bool minAdapt ()</i> - Corrects the object
	after underflows. If the object is integer after this operation, true 
	is returned.</a></p>

    <p><a name="maxAdapt"><i>virtual bool maxAdapt ()</i> - Corrects the object
	after overflows. If the object is integer after this operation, true 
	is returned.</a></p>
  </body>
</html>
