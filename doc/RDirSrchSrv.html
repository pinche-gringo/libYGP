<!-- -*-HTML-*- -->

<!-- $Id: RDirSrchSrv.html,v 1.5 2002/12/08 18:21:12 markus Exp $ -->

<html>
  <head>
    <title>General Reference: RemoteDirSearchSrv</title>
    <meta name="description" content="Documentation of RemoteDirSearchSrv-class">
    <meta name="keywords" content="Documentation, Docu, RemoteDirSearchSrv, class">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2001-09-28">
    <meta name="DC.Rights" content="Anticopyright (A) 2001, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align="center" border="0" cellspacing="10">
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Class RemoteDirSearchSrv</h1>
    <p>Derived from
      <i>none</i>
      <br>
      Derived by: <i>none</i></p>

    <p>#include &lt;RDirSrchSrv.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>
    <p>Class to search for files in a certain directory. This is the
      server for the RemoteDirSearch-class.</p>

    <p>Supported commands are (following the answers in case of success):</p>
    <ul break>
      <li><b>-&gt;</b>: <span style="color:blue;">Check</span>="&lt;<i>file</i>&gt;"<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Find</span>="&lt;<i>file</i>&gt;";<span style="color:purple;">Attr=&lt;</span><i>attr</i>&gt;</br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0;File</span>="&lt;<i>file</i>&gt;";<span style="color:purple;">Size</span>=&lt;<i>size</i>&gt;;<span style="color:purple;">Time</span>=&lt;<i>timestamp</i>&gt;;<span style="color:purple;">Attr</span>=&lt;<i>attributes</i>&gt;</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Next</span></br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0;File</span>="&lt;<i>file</i>&gt;";<span style="color:purple;">Size</span>=&lt;<i>size</i>&gt;;<span style="color:purple;">Time</span>=&lt;<i>timestamp</i>&gt;;<span style="color:purple;">Attr</span>=&lt;<i>attributes</i>&gt;</li>
      <li><b>-&gt;</b>: <span style="color:blue;">End</span><br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Open</span>="&lt;file&gt;";<span style="color:purple;">Mode</span>=&lt;mode&gt;<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0;<span style="color:purple;">ID</span></span>=&lt;ID&gt;</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Read</span>=&lt;ID&gt;;<span style="color:purple;">Length</span>=&lt;length&gt;<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0;<span style="color:purple;">Length</span>=&lt;length&gt;;<span style="color:purple;">Data</span>=&lt;data&gt;</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Write</span>=&lt;ID&gt;;<span style="color:purple;">Length</span>=&lt;length&gt;;<span style="color:purple;">Data</span>=&lt;data&gt;<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0</li>
      <li><b>-&gt;</b>: <span style="color:blue;">EOF</span>=&lt;ID&gt;<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0</li>
      <li><b>-&gt;</b>: <span style="color:blue;">Close</span>=&lt;ID&gt;<br>
          <b>&lt;-</b>: <span style="color:purple;">RC</span>=0</li>
    </ul>

    <p>Errors are reported in the following format:</p>

    <ul>
      <li><b>&lt;-</b>: <span style="color:purple;">RC</span>=&lt;<i>status</i>&gt;[;<span style="color:purple;">E</span>=&lt;<i>errortext</i>&gt;]</li>
    </ul>

    <p>RC=0 always means, that the commands completed
      successfully. This is also true for the <span style="color:blue;">Check</span>-
      or the <span style="color:blue;">EOF</span>- command; RC=0 means in that case,
      that the file has been found (respectively is at EOF)!</p>

    <p>If in case of an error there is a following description the error is an
      unexpected one (in counterpart to errors which might happen, like for the
      the <span style="color:blue;">Check</span>-command in case the filename is not
      valid or for the the <span style="color:blue;">Next</span>-command when there is
      no more matching file.</p>

    <hr noshade>
    <table border="0">
      <tr><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="RDirSrchSrv.html#RemoteDirSearchSrv"><b>RemoteDirSearchSrv</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr valign="top"><td><tt>int</tt> </td>
        <td><a href="RDirSrchSrv.html#performCommands"><b>performCommands</b></a></td>
        <td><tt>(<tt><span style="color:purple;">int</span></tt> <tt><span style="color:blue;">socket</span></tt>) throw (<span style="color:navy;">std::domain_error</span>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="RDirSrchSrv.html#~RemoteDirSearchSrv"><b>~RemoteDirSearchSrv</b></a></td>
        <td><tt>()</tt>;</td></tr>
    </table>

    <hr noshade>
    <h2>Member descriptions</h2>

    <h3 style="color:navy;">Management functions</h3>
    <pre><a name="RemoteDirSearchSrv"></a> <b>RemoteDirSearchSrv</b> ()</pre>
    <dl>
      <dd><p>Defaultconstructor</p></dd>
    </dl>
    <hr>
    <pre><a name="~RemoteDirSearchSrv"></a> <b>~RemoteDirSearchSrv</b> ()</pre>
    <dl>
      <dd><p>Destructor</p></dd>
    </dl>
    <hr>
    <pre><a name="performCommands"></a>int <b>performCommands</b> (int socket) throw (std::domain_error)</pre>
    <dl>
      <dd><p>Handles the commands send from the client; the respectative action is performed
        and data is returned accordingly.Reads and executes commands send by a client </p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>socket</code>: Socket for communication<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>int: 0 in case of end-of-communication; 99 after END-command</dd></dl></dd>
      <dd><dl><dt><b>Throws</b></dt>
          <dd>std::domain_error: In case of a communication problem</dd></dl></dd>
    </dl>
  </body>
</html>
