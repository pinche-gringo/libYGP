<!-- -*-HTML-*- -->
<!-- $Id: RDirSrch.html,v 1.7 2002/12/15 00:22:12 markus Exp $ -->

<html>
  <head>
    <title>General Reference: RemoteDirSearch</title>
    <meta name="description" content="Documentation of RemoteDirSearch-class">
    <meta name="keywords" content="Documentation, Docu, RemoteDirSearch, class">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2001-09-27">
    <meta name="DC.Rights" content="Anticopyright (A) 2001, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align="center" border="0" cellspacing="10">
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Class RemoteDirSearch</h1>
    <p>Derived from
      <a href="IDirSrch.html">IDirectorySearch</a>
      <br>
      Derived by: <i>none</i></p>

    <p>#include &lt;RDirSrch.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>
    <p>Class to search for files in a directory over network-connection (TCP/IP). This
      search can be restricted to files matching certain name-criterias or by
      <a href="IDirSrch.html#Attributes">attributes</a>.</p>

    <p>The name-part of the files to search supports UNIX-like wildcards; that
      are the asterisk (*) for any number of any characters, the question-mark
      for any single character and a set of characters in brackets (([) and
      (])). This set can contain a list of characters (like [abcde]) or a
      region (like [a-e]). To invert this set use a leading caret (^) or a leading
      exclamation mark (!), like ([^a-e]).</p>

    <p>The found (and matching) files are retrieved by objects of type
      <a href="File.html"><b>File</b></a>.</p>

    <p><b>Note</b>: The class does <b>not</b> do any word expansion for the
      search-path (like expanding the tilde (~) to the home-directory)!</p>

    <hr noshade>
    <table border="0">
      <tr><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="RDirSrch.html#RemoteDirSearch"><b>RemoteDirSearch</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="RDirSrch.html#RemoteDirSearch2"><b>RemoteDirSearch</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::string</span></tt>&amp; <tt><span style="color:blue">search</span></tt>) throw (<span style="color:navy">std::domain_error</span>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="RDirSrch.html#RemoteDirSearch3"><b>RemoteDirSearch</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::string</span></tt>&amp; <tt><span style="color:blue">search</span></tt>, <tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">int</span></tt> <tt><span style="color:blue">port</span></tt>) throw (<span style="color:navy">std::domain_error</span>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt>virtual const</tt> <a href="File.html"><b>File</b></a>*</tt></td>
        <td><a href="RDirSrch.html#find"><b>find</b></a></td>
        <td><tt>(<tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">long</span></tt> <tt><span style="color:blue">attribs</span> = FILE_NORMAL)</tt> throw (<span style="color:purple">std::string</span>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">std::string</span></tt></tt> </td>
        <td><a href="RDirSrch.html#getDirectory"><b>getDirectory</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">std::string</span></tt></tt> </td>
        <td><a href="RDirSrch.html#getFileSpec"><b>getFileSpec</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>

      <tr valign="top"><td><tt><tt>static</tt> <tt><span style="color:purple">bool</span></tt></tt> </td>
        <td><a href="RDirSrch.html#isValid"><b>isValid</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::domain_error</span></tt>&amp; <tt><span style="color:blue">dir</span></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">bool</span></tt></tt> </td>
        <td><a href="RDirSrch.html#isValid2"><b>isValid</b></a></td>
        <td><tt>() throw (<span style="color:purple">std::domain_error</span>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt>virtual const</tt> <a href="File.html"><b>File</b></a>*</tt></td>
        <td><a href="RDirSrch.html#next"><b>next</b></a></td>
        <td><tt>() throw (<span style="color:purple">std::string</span>)</tt>;</td></tr>

      <tr valign="top"><td><tt><span style="color:purple">void</span></tt></td>
        <td><a href="RDirSrch.html#sendTo"><b>sendTo</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::string</span></tt>&amp; <tt><span style="color:blue">search</span></tt>, <tt><span style="color:navy">unsigned</span></tt> <tt><span style="color:purple">int</span></tt> <tt><span style="color:blue">port</span></tt>) throw (<span style="color:navy">std::domain_error</span>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt>virtual</tt> <tt><span style="color:purple">void</span></tt></tt> </td>
        <td><a href="RDirSrch.html#setSearchValue"><b>setSearchValue</b></a></td>
        <td><tt>(<tt>const</tt> <tt><span style="color:purple">std::string</span></tt>&amp; <tt><span style="color:blue">search</span></tt>) throw (<span style="color:navy">std::domain_error</span>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="RDirSrch.html#~RemoteDirSearch"><b>~RemoteDirSearch</b></a></td>
        <td><tt>()</tt>;</td></tr>
    </table>

    <hr noshade>
    <h2>Member descriptions</h2>

    <h3><span style="color:navy">Management functions</span></h3>
    <pre><a name="RemoteDirSearch"></a><b>RemoteDirSearch</b> ()</pre>
    <dl>
      <dd><p>Defaultconstructor</p></dd>
    </dl>
    <hr>
    <pre><a name="RemoteDirSearch2"></a> <b>RemoteDirSearch</b> (const std::string&amp; srch) throw (std::domain_error)</pre>
    <dl>
      <dd><p>Constructor; sets the information for which files to search.</p>
        <p>The port-part of the <code>srch</code>-parameter can be both numeric or its
           equivalent textual representation (e.g.: "80" or "http").</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>srch</code>: String identifying server/port and path to search</dd>
      </dl><dd>
    </dl>
    <hr>
    <pre><a name="RemoteDirSearch3"></a> <b>RemoteDirSearch</b> (const std::string&amp; srch, unsigned int port) throw (std::domain_error)</pre>
    <dl>
      <dd><p>Constructor; sets the information for which files to search.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>srch</code>: String identifying server and path to search</dd>
          <dd><code>port</code>: Port number the server is listening at<dd>
      </dl><dd>
    </dl>
    <hr>
    <pre><a name="~RemoteDirSearch"></a> <b>~RemoteDirSearch</b> ()</pre>
    <dl>
      <dd><p>Destructor</p></dd>
    </dl>
    <hr>
    <pre><a name="getDirectory"></a>std::string <b>getDirectory</b> () const</pre>
    <dl>
      <dd><p>Retrieves the directory-part of the files to search for (including server).</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>std::string: Directory to search</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="getFileSpec"></a>std::string <b>getFileSpec</b> () const</pre>
    <dl>
      <dd><p>Retrieves the name of the files to search.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>std::string: Files to find</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="setSearchValue"></a>void <b>setSearchValue</b> (const std::string&amp; search)</pre>
    <dl>
      <dd><p>Sets the files to search for (and server and path where to search).</p>
        <p>The search-string must be in the format server:[path]files.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>search</code>: Files to search for<dd>
      </dl><dd>
    </dl>
    <hr>
    <pre><a name="sendTo"></a>void <b>sendTo</b> (const std::string&amp; server, unsigned int port) throw (std::domain_error)</pre>
    <dl>
      <dd><p>Specifies the partner (name and port) for the communication.</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>server</code>: String identifying server to connect to</dd>
          <dd><code>port</code>: Port number the server is listening at<dd>
      </dl><dd>
      <dd><dl><dt><b>Throws</b></dt>
          <dd>std::domain_error: With error message in case of an error</dd></dl></dd>
      </dl><dd>
    </dl>

    <h3><span style="color:navy">Find functions</span></h3>
    <pre><a name="find"></a>const <a href="File.html"><b>File</b></a>* <b>find</b> (unsigned long attribs) throw (std::string)</pre>
    <dl>
      <dd><p>Searches for first file matching the input specified by the
          constructor(s) or the set-methods.</p>
        <p>Only files matching also the attributes are returned!</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>attribs</code>: Attributes of files to find<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>const File*: Pointer to found file-object or NULL</dd></dl></dd>
      <dd><dl><dt><b>Requires</b></dt>
          <dd>searchDir, pEntry already set</dd></dl></dd>
      <dd><dl><dt><b>Throws</b></dt>
          <dd>std::string: Containing error message in case of an error</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="next"></a>const <a href="File.html"><b>File</b></a>* <b>next</b> () throw (std::string)</pre>
    <dl>
      <dd><p>Returns the next matching file according to the parameters specified in
        earlier find-calls.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>const File*: Pointer to found file-object or NULL</dd></dl></dd>
      <dd><dl><dt><b>Requires</b></dt>
          <dd>A find must have been (successfully) performed</dd></dl></dd>
      <dd><dl><dt><b>Throws</b></dt>
          <dd>std::string: Containing error message in case of an error</dd></dl></dd>
    </dl>

    <h3><span style="color:navy">Utility functions</span></h3>
    <pre><a name="isValid"></a>bool <b>isValid</b> () const throw (std::domain_error)</pre>
    <dl>
      <dd><p>Checks if the directory-part of this object specifies an existing directory.</p></dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>True if the remote directory does exist</dd></dl></dd>
      <dd><dl><dt><b>Throws</b></dt>
          <dd>std::domain_error in case of an error during the communication</dd></dl></dd>
    </dl>
    <hr>
    <pre><a name="isValid2"></a>bool <b>isValid</b> (const std::string&amp; dir) throw (std::domain_error)</pre>
    <dl>
      <dd><p>Checks if the passed string specifies an existing directory (on the server).</p></dd>
      <dd><dl><dt><b>Parameters</b></dt>
          <dd><code>dir</code>: Directory (without server-part) whose validity should be checked<dd>
      </dl><dd>
      <dd><dl><dt><b>Returns</b></dt>
          <dd>bool: True if the directory exists</dd></dl></dd>
    </dl>
  </body>
</html>
