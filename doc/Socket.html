<!-- -*-HTML-*- -->

<!-- $Id: Socket.html,v 1.2 2002/04/11 19:05:48 markus Rel $ -->

<html>
  <head>
    <title>General Reference: Socket</title>
    <meta name="description" content="Documentation of Socket-class">
    <meta name="keywords" content="Documentation, Docu, Socket, class">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2001-10-19">
    <meta name="DC.Rights" content="Anticopyright (A) 2001, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align=center border=0 cellspacing=10>
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Class Socket</h1>
    <p>Derived from
      <i>none</i>
      <br>
      Derived by: <i>none</i></p>

    <p>#include &lt;Socket.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>

    <p>A <i>socket</i> is a generalized interprocess communication
      channel, which support communication between unrelated processes,
      and even between processes running on different machines that
      communicate over a network. This class provides methods to connect
      to, read from and write to another socket.</p>

    <p>At the moment the communications are always handled using
      streamed connections in the Internet namespace.</p>

    <hr noshade>
    <table border="0">
      <tr><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket"><b>Socket</b></a></td>
        <td><tt>() throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket2"><b>Socket</b></a></td>
        <td><tt>(<tt><font color="purple">int</font></tt> <tt><font color="blue">other</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket3"><b>Socket</b></a></td>
        <td><tt>(<font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket4"><b>Socket</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">server</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket5"><b>Socket</b></a></td>
        <td><tt>(const <font color="purple">std::string</font>&amp; <font color="blue">server</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="Socket.html#Socket6"><b>Socket</b></a></td>
        <td><tt>(<tt>const</tt> <a href="Socket.html#Socket"><b>Socket</b></a>&amp; <tt><font color="blue">other</font></tt>)</tt>;</td></tr>

      <tr valign="top"><td><tt>static <font color="navy">unsigned</font> <font color="purple">int</font></tt></td>
        <td><a href="Socket.html#getPortOfService"><b>getPortOfService</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">service</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#listenAt"><b>listenAt</b></a></td>
        <td><tt>(<font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt><font color="purple">int</font></tt></tt> </td>
        <td><a href="Socket.html#number"><b>number</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>

      <tr valign="top"><td> </td>
        <td><a href="Socket.html#operatorint"><b><font color="black">operator</font> int</b></a></td>
        <td><tt>() <tt>const</tt></tt>;</td></tr>
      <tr valign="top"><td><tt><a href="Socket.html#Socket"><b>Socket</b></a>&amp;</tt> </td>
        <td><a href="Socket.html#operator="><tt><font color="black"><b>operator</b></font>=</tt></a></td>
        <td><tt>(const <a href="Socket.html"><b>Socket</b></a>&amp; <font color="blue">other</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt><a href="Socket.html#Socket"><b>Socket</b></a>&amp;</tt> </td>
        <td><a href="Socket.html#operator=2"><tt><font color="black"><b>operator</b></font>=</tt></a></td>
        <td><tt>(<tt><font color="purple">int</font></tt> <tt><font color="blue">socket</font></tt>)</tt>;</td></tr>

      <tr valign="top"><td><tt><font color="purple">int</font></tt></td>
        <td><a href="Socket.html#read"><b>read</b></a></td>
        <td><tt>(<a href="AByteArray"><b>AByteArray</b></a>&amp; <font color="blue">input</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt><font color="purple">int</font></tt></td>
        <td><a href="Socket.html#read2"><b>read</b></a></td>
        <td><tt>(<font color="purple">char</font>* <font color="blue">pBuffer</font>, <font color="purple">int</font> <font color="blue">lenBuffer</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><font color="purple">int</font></tt></td>
        <td><a href="Socket.html#waitForInput"><b>waitForInput</b></a></td>
        <td><tt>() const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#write"><b>write</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">pBuffer</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#write2"><b>write</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">pBuffer</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">lenBuffer</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#write3"><b>write</b></a></td>
        <td><tt>(<a href="AByteArray"><b>AByteArray</b></a>&amp; <font color="blue">output</font>) const throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#writeTo"><b>writeTo</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">server</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>
      <tr valign="top"><td><tt><font color="purple">void</font></tt></td>
        <td><a href="Socket.html#writeTo2"><b>writeTo</b></a></td>
        <td><tt>(const <font color="purple">std::string</font>&amp; <font color="blue">server</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">port</font>) throw (<font color="navy">domain_error</font>)</tt>;</td></tr>

      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="Socket.html#~Socket"><b>~Socket</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr><td>&nbsp;</td></tr>
    </table>

    <hr noshade>
    <h2>Member descriptions</h2>

    <h4>Management functions</h4>
    <pre><a name="Socket"></a>Socket () throw (domain_error)</pre>
    <dl>
      <dd>Defaultconstructor; creates an socket but without any connection.</dd>
    </dl>
    <pre><a name="Socket2"></a>Socket (int socket)</pre>
    <dl>
      <dd>Constructor; creates an socket out of an existing system-socket.</dd>
    </dl>
    <pre><a name="Socket3"></a>Socket (unsigned int port) throw (domain_error)</pre>
    <dl>
      <dd>Constructor; creates an socket which waits for input on <i>port</i>.</dd>
    </dl>
    <pre><a name="Socket4"></a>Socket (const char* server, unsigned int port) throw (domain_error)</pre>
    <dl>
      <dd>Constructor; creates an socket which tries to write to
        <i>server</i> using the passed <i>port</i>.</dd>
    </dl>
    <pre><a name="Socket5"></a>Socket (const std::string&amp; server, unsigned int port) throw (domain_error)</pre>
    <dl>
      <dd>Constructor; creates an socket which tries to write to
        <i>server</i> using the passed <i>port</i>.</dd>
    </dl>
    <pre><a name="Socket6"></a>Socket (const Socket&amp; other) throw (domain_error)</pre>
    <pre><a name="~Socket"></a>virtual ~Socket ()</pre>

    <pre><a name="operator="></a>Socket&amp; operator= (const Socket&amp; other) throw (domain_error)</pre>
    <pre><a name="operator=2"></a>Socket&amp; operator= (int socket)</pre>
    <dl>
      <dd>Assignmentoperator; creates an socket out of a system-socket.</dd>
    </dl>

    <pre><a name="operatorint"></a>operator int () const</pre>
    <dl>
      <dd>Conversation between Socket-class and system-socket
        (represented by an integer).</dd>
    </dl>
    <pre><a name="number"></a>int number () const</pre>
    <dl>
      <dd>Conversation between Socket-class and system-socket
        (represented by an integer).</dd>
    </dl>

    <pre><a name="getPortOfService"></a>unsigned int getPortOfService (const char* service) throw (domain_error)</pre>
    <dl>
      <dd>Retrieves the port-number of the passed textual port-description.</dd>
    </dl>

    <h4>Communication functions</h4>
    <pre><a name="listenAt"></a>void listenAt (unsigned int port) const throw (domain_error)</pre>
    <dl>
      <dd>Specifies the port to listen at (for ingoing connections).</dd>
    </dl>
    <pre><a name="waitForInput"></a>int waitForInput () const port) throw (domain_error)</pre>
    <dl>
      <dd><p>Waits until someone wants to create a (new) connection using
        the previously (with <a name="Socket.html#listenAt"><b>listenAt</b></a>)
        specified port.</p>

      <p>The new (system-)socket for this communication is returned.</p>

      <p><b>Attention</b>: If a new connection is opened to a Socket,
        this socket is actually "duplicated" and returned to enable
        multiple connections to one port (socket)"</p></dd>
    </dl>

    <pre><a name="writeTo"></a>void writeTo (const char* server, unsigned int port) throw (domain_error)</pre>
    <dl>
      <dd>Specifies the server and port to write to (for outgoing connections).</dd>
    </dl>
    <pre><a name="writeTo2"></a>void writeTo (const std::string&amp; server, unsigned int port) throw (domain_error)</pre>
    <dl>
      <dd>Specifies the server and port to write to (for outgoing connections).</dd>
    </dl>

    <pre><a name="read"></a>int read (<a href="AByteArray"><b>AByteArray</b></a>&amp; input) const throw (domain_error)</pre>
    <dl>
      <dd><p>Reads (all available) data into <i>input</i> from the
          previously specified source.</p>

        <p>To enable the handling of multiple connections data must
          be read from a "duplicate" socket of the original
          server-socket (which was retrieved by the
          <a href="waitForInput"><b>waitForInput</b></a>-method).</p></dd>
    </dl>
    <pre><a name="read2"></a>int read (char* pBuffer, int lenBuffer) const throw (domain_error)</pre>
    <dl>
      <dd><p>Reads up to <i>lenBuffer</i> bytes data into <i>pBuffer</i> from the
          previously specified source.</p>

        <p>To enable the handling of multiple connections data must
          be read from a "duplicate" socket of the original
          server-socket (which was retrieved by the
          <a href="waitForInput"><b>waitForInput</b></a>-method).</p></dd>
    </dl>

    <pre><a name="write"></a>void write (const char* pBuffer) const throw (domain_error)</pre>
    <dl>
      <dd>Writes the contents of <i>pBuffer</i> up to the first
      zero-byte to the previously specified target (which must be
      previously specified with the <a href="writeTo"><b>writeTo</b></a>-method).</dd>
    </dl>
    <pre><a name="write2"></a>void write (const char* pBuffer, int lenBuffer) const throw (domain_error)</pre>
    <dl>
      <dd>Writes the contents of <i>pBuffer</i> up to the first
      zero-byte to the previously specified target (which must be
      previously specified with the <a href="writeTo"><b>writeTo</b></a>-method).</dd>
    </dl>
    <pre><a name="write3"></a>void write (<a href="AByteArray"><b>AByteArray</b></a>&amp; output) const throw (domain_error)</pre>
    <dl>
      <dd>Writes the contents of <i>output</i> to the previously
      specified target (which must be previously specified with the
      <a href="writeTo"><b>writeTo</b></a>-method).</dd>
    </dl>
  </body>
</html>
