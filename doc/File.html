<!-- $Id: File.html,v 1.1 2001/10/17 12:49:48 markus Exp $ -->

<html>
  <head>
    <title>General Reference: File</title>
    <meta name="description" content="Documentation of File-structure">
    <meta name="keywords" content="Documentation, Docu, File, class, struct, structure">

    <meta name="DC.Creator" content="Markus Schwab">
    <meta name="DC.Date" content="2000-09-25">
    <meta name="DC.Rights" content="Anticopyright (A) 2000, distributed under the GNU General Public License">
  </head>

  <body bgcolor="#F0F0F0" text="#000000" link="#0000FF" vlink="#000077" alink="#FF0000">
    <table align=center border=0 cellspacing=10>
      <tr><td><a href="index.html">Class Index</a></td>
      <td><a href="cross_index.html">Cross Index</a></td></tr>
    </table>

    <h1 align="center">Struct File</h1>
    <p>Derived from: <i>none</i>
      <br>
      Derived by: <i>none</i></p>

    <p>#include &lt;File.h&gt;</p>

    <hr noshade>
    <h2>Description</h2>
    <p>Class representing a file with simple management-functions.</p>

    <hr noshade>
    <table border="0">
      <tr><td colspan="3"><h3>public function member index</h3></td></tr>
      <tr valign="top"><td><tt></tt> </td>
        <td><a href="File.html#File"><b>File</b></a></td>
        <td><tt>()</tt>;</td></tr>
      <tr valign="top"><td><tt></tt></td>
        <td><a href="File.html#File2"><b>File</b></a></td>
        <td><tt>(<tt>const</tt> <a href="File.html"><b>File</b></a>&amp; <tt><font color="blue">other</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><a href="File.html"><b>File</b></a>&amp;</tt> </td>
        <td><a href="File.html#operator="><tt><font color="black"><b>operator</b></font></tt><tt>=</tt></a></td>
        <td><tt>(<tt>const</tt> <a href="File.html"><b>File</b></a>&amp; <tt><font color="blue">other</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td><tt><tt>virtual</tt> </tt> </td>
        <td><a href="File.html#~File"><b>~File</b></a></td>
        <td><tt>()</tt>;</td></tr>

      <tr valign="top"><td><tt>int</tt></td>
        <td><a href="File.html#compare"><b>compare</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">pszName</font>) const;</tt></td>
      <tr valign="top"><td>int</td>
        <td><a href="File.html#compare2"><b>compare</b></a></td>
        <td><tt>(<tt>const</tt> <tt><font color="purple">std::string</font></tt>&amp; <tt><font color="blue">str</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td>int</td>
        <td><a href="File.html#compare3"><b>compare</b></a></td>
        <td><tt>(<tt>const</tt> <a href="File.html"><b>File</b></a>&amp; <tt><font color="blue">other</font></tt>)</tt>;</td></tr>
      <tr valign="top"><td>int</td>
        <td><a href="File.html#compare4"><b>compare</b></a></td>
        <td><tt>(<tt>const</tt> <a href="File.html"><b>File</b></a>* <tt><font color="blue">other</font></tt>)</tt>;</td></tr>

      <tr valign="top"><td><tt>bool</tt></td>
        <td><a href="File.html#isDirectory"><b>isDirectory</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>bool</tt></td>
        <td><a href="File.html#isExecuteable"><b>isExecuteable</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>bool</tt></td>
        <td><a href="File.html#isUserExec"><b>isUserExec</b></a></td>
        <td><tt>() const;</tt></td></tr>

      <tr valign="top"><td><tt>const <font color="navy">unsigned</font> <font color="purple">long</font>*</tt></td>
        <td><a href="File.html#attributes"><b>attributes</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>const <font color="purple">time_t</font></tt></td>
        <td><a href="File.html#localtime"><b>localtime</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>const <font color="purple">char</font>*</tt></td>
        <td><a href="File.html#name"><b>name</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>const <font color="purple">char</font>*</tt></td>
        <td><a href="File.html#path"><b>path</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>const <font color="navy">unsigned</font> <font color="purple">long</font>*</tt></td>
        <td><a href="File.html#size"><b>size</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>const <font color="purple">time_t</font></tt></td>
        <td><a href="File.html#time"><b>time</b></a></td>
        <td><tt>() const;</tt></td></tr>
      <tr valign="top"><td><tt>void</tt></td>
        <td><a href="File.html#time2"><b>time</b></a></td>
        <td><tt>(<font color="navy">struct</font> <font color="blue">tm</font>&amp;) const;</tt></td></tr>

      <tr valign="top"><td><tt>virtual <font color="purple">void</font>*</tt></td>
        <td><a href="File.html#open"><b>open</b></a></td>
        <td><tt>(const <font color="purple">char</font>* <font color="blue">mode</font>) const throw (<font color="purple">std::string</font>);</tt></td></tr>
      <tr valign="top"><td><tt>virtual <font color="purple">void</font></tt></td>
        <td><a href="File.html#close"><b>close</b></a></td>
        <td><tt>(<font color="purple">void</font>* <font color="blue">file</font>) const throw (<font color="purple">std::string</font>);</tt></td></tr>
      <tr valign="top"><td><tt>virtual <font color="purple">bool</font></tt></td>
        <td><a href="File.html#isEOF"><b>isEOF</b></a></td>
        <td><tt>(<font color="purple">void</font>* <font color="blue">file</font>) const throw (<font color="purple">std::string</font>);</tt></td></tr>
      <tr valign="top"><td><tt>virtual <font color="purple">int</font></tt></td>
        <td><a href="File.html#read"><b>read</b></a></td>
        <td><tt>(<font color="purple">void</font>* <font color="blue">file</font>, <font color="purple">char</font>* <font color="blue">buffer</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">length</font>) const throw (<font color="purple">std::string</font>);</tt></td></tr>
      <tr valign="top"><td><tt>virtual <font color="purple">int</font></tt></td>
        <td><a href="File.html#write"><b>write</b></a></td>
        <td><tt>(<font color="purple">void</font>* <font color="blue">file</font>, const <font color="purple">char</font>* <font color="blue">buffer</font>, <font color="navy">unsigned</font> <font color="purple">int</font> <font color="blue">length</font>) const throw (<font color="purple">std::string</font>);</tt></td></tr>
    </table>

    <hr noshade>
    <h2>Member descriptions</h2>
    <h4>Management functions</h4>
    <pre><a name="File"></a>File ()</pre>
    <dl>
      <dd>Defaultconstructor; creates an empty object (pointing to no
        directory-entry).</dd>
    </dl>
    <pre><a name="File2"></a>File (const File&amp; other)</pre>
    <pre><a name="~File"></a>~File ()</pre>
    <pre><a name="operator="></a>File&amp; operator= (const File&amp; other)</pre>

    <h4>Query of data</h4>
    <pre><a name="path"></a>const char* path () const</pre>
    <dl>
      <dd>Retrieves the path of the file. The call is only valid after a
        successfull find; then the returned value is never NULL nor empty.</dd>
    </dl>
    <pre><a name="name"></a>const char* name () const</pre>
    <dl>
      <dd>Retrieves the name of the file. The call is only valid after a
        successfull find; then the returned value  is without any
        path-information, but never NULL nor empty.</dd>
    </dl>

    <pre><a name="size"></a>const unsigned long size () const</pre>
    <dl>
      <dd>Retrieves the	size of the file. The call is only valid after a
        successfull find.</dd>
    </dl>

    <pre><a name="localtime">const time_t localtime</a> () const</pre>
    <dl><dd>Retrieves the modification time (int GMT) of the file in the format
        of the system-time. The call is only valid after a successfull find.</dd>
    </dl>
    <pre><a name="time">const time_t time</a> () const</pre>
    <dl><dd>Retrieves the modification time of the file in the format of the
        system-time. The call is only valid after a successfull find.</dd>
    </dl>
    <pre><a name="time2"></a>void time (struct&amp; tm time) const</pre>
    <dl>
      <dd>Retrieves the modification time of the file in a broken-down format.
        The call is only valid after a successfull find.</dd>
    </dl>
    <pre><a name="attributes"></a>const unsigned long attributes () const</pre>
    <dl>
      <dd>Returns the attributes of the files.  The call is only valid after a
        successfull find.</dd>
    </dl>

    <h4>Query of file-type</h4>
    <pre><a name="isDirectory"></a>bool isDirecotory () const</pre>
    <dl><dd>Returns true, if the file is a directory.  The call is only valid
        after a successfull find.</dd>
    </dl>
    <pre><a name="isExecuteable"></a>bool isExecuteable () const</pre>
    <dl>
      <dd><p>Returns true, if the file is executeable. Under UNIX it checks the
          file-permissions (any execute-right is sufficient), under DOS/WINDOZE
          the extension of the file (true for EXE/COM/BAT).</p>
        <p>The call is only valid after a successfull find.</p></dd>
    </dl>
    <pre><a name="isUserExec"></a>bool isUserExec () const</pre>
    <dl>
      <dd><p>Returns true, if the file is executeable for the actual user. Under
          UNIX it checks the rights for the effictive user under DOS/WINDOZE it
          the extension of the file (true for EXE/COM/BAT).</p>
        <p>The call is only valid after a successfull find.</p></dd>
    </dl>

    <h4>File-access</h4>
    <pre><a name="open"></a>void* open (const char* mode) const throw (std::string)</pre>
    <dl>
      <dd>Opends the file with the specified mode. This parameter can have the
        same values than the ANSI-C fopen-function.</dd>
    </dl>
    <pre><a name="close"></a>void close (void* file) const throw (std::string)</pre>
    <dl>
      <dd>Closes a previously opened file.</dd>
    </dl>

    <pre><a name="isEOF"></a>bool isEOF (void* file) const throw (std::string)</pre>
    <dl>
      <dd>Checks if the end of the file has been reached while reading from it.</dd>
    </dl>

    <pre><a name="read"></a>int read (void* file, char* buffer, unsigned int length) const throw (std::string)</pre>
    <dl>
      <dd><p>Reads the specified number of characters (or less, if the end of the file
        has been reached) into buffer. and returns the number of actually read bytes.</p>

        <p>If an error occurres, an exception is thrown.</p></dd>
    </dl>
    <pre><a name="write"></a>int write (void* file, const char* buffer, unsigned int length) const throw (std::string)</pre>
    <dl>
      <dd><p>Writes the specified number of characters to the file and returns
        the number of actually written bytes.</p>

        <p>If an error occurres, an exception is thrown.</p></dd>
    </dl>

    <h4>Comparison</h4>
    <pre><a name="compare"></a>int compare (const char* pszName) const</pre>
    <dl>
      <dd>Compares the filename (without path-information) with the passed one.
        The return code is (analogue to strcmp) 0 if they are equal. Note:
        Depending on your operating system, the compare might or might not be
        case-sensitive.</dd>
    </dl>
    <pre><a name="compare2"></a>int compare (const std::string&amp; Name) const</pre>
    <dl>
      <dd>Compares the filename (without path-information) with the passed one.
        The return code is (analogue to strcmp) 0 if they are equal. Note:
        Depending on your operating system, the compare might or might not be
        case-sensitive.</dd>
    </dl>
    <pre><a name="compare3"></a>int compare (const File&amp; other) const</pre>
    <dl>
      <dd>Compares the filename (without path-information) with the passed one.
        The return code is (analogue to strcmp) 0 if they are equal. Note:
        Depending on your operating system, the compare might or might not be
        case-sensitive.</dd>
    </dl>
    <pre><a name="compare4"></a>int compare (const File* other) const</pre>
    <dl>
      <dd>Compares the filename (without path-information) with the passed one.
        The return code is (analogue to strcmp) 0 if they are equal. Note:
        Depending on your operating system, the compare might or might not be
        case-sensitive.</dd>
    </dl>
  </body>
</html>
